import{w as P,r as B}from"./ll8Rg3ZQ.js";import{O as V,P as Q,A as G}from"./Dru5vjMp.js";const H=P(void 0);function te(e,t){const{computePosition:d,autoUpdate:u,offset:l,shift:a,flip:m,arrow:p,size:y,autoPlacement:o,hide:s,inline:v}=V(H),r={open:!1,autoUpdateCleanup:()=>{}},b=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let h;const f="https://www.skeleton.dev/utilities/popups";let n,c;function A(){n=document.querySelector(`[data-popup="${t.target}"]`)??document.createElement("div"),c=n.querySelector(".arrow")??document.createElement("div")}A();function L(){var w,E,x,M,g,I,D,O;if(!n)throw new Error(`The data-popup="${t.target}" element was not found. ${f}`);if(!d)throw new Error(`Floating UI 'computePosition' not found for data-popup="${t.target}". ${f}`);if(!l)throw new Error(`Floating UI 'offset' not found for data-popup="${t.target}". ${f}`);if(!a)throw new Error(`Floating UI 'shift' not found for data-popup="${t.target}". ${f}`);if(!m)throw new Error(`Floating UI 'flip' not found for data-popup="${t.target}". ${f}`);if(!p)throw new Error(`Floating UI 'arrow' not found for data-popup="${t.target}". ${f}`);const i=[];y&&i.push(y((w=t.middleware)==null?void 0:w.size)),o&&i.push(o((E=t.middleware)==null?void 0:E.autoPlacement)),s&&i.push(s((x=t.middleware)==null?void 0:x.hide)),v&&i.push(v((M=t.middleware)==null?void 0:M.inline)),d(e,n,{placement:t.placement??"bottom",middleware:[l(((g=t.middleware)==null?void 0:g.offset)??8),a(((I=t.middleware)==null?void 0:I.shift)??{padding:8}),m((D=t.middleware)==null?void 0:D.flip),p(((O=t.middleware)==null?void 0:O.arrow)??{element:c||null}),...i]}).then(({x:R,y:J,placement:K,middlewareData:X})=>{if(Object.assign(n.style,{left:`${R}px`,top:`${J}px`}),c){const{x:T,y:q}=X.arrow,Y={top:"bottom",right:"left",bottom:"top",left:"right"}[K.split("-")[0]];Object.assign(c.style,{left:T!=null?`${T}px`:"",top:q!=null?`${q}px`:"",right:"",bottom:"",[Y]:"-4px"})}})}function _(){n&&(r.open=!0,t.state&&t.state({state:r.open}),L(),n.style.display="block",n.style.opacity="1",n.style.pointerEvents="auto",n.removeAttribute("inert"),r.autoUpdateCleanup=u(e,n,L),h=Array.from(n==null?void 0:n.querySelectorAll(b)))}function $(i){if(!n)return;const w=parseFloat(window.getComputedStyle(n).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{r.open=!1,t.state&&t.state({state:r.open}),n.style.opacity="0",n.setAttribute("inert",""),r.autoUpdateCleanup&&r.autoUpdateCleanup(),i&&i()},w)}function S(){r.open===!1?_():$()}function F(i){if(r.open===!1||e.contains(i.target))return;if(n&&n.contains(i.target)===!1){$();return}const w=t.closeQuery===void 0?"a[href], button":t.closeQuery;if(w==="")return;const E=n==null?void 0:n.querySelectorAll(w);E==null||E.forEach(x=>{x.contains(i.target)&&$()})}const C=i=>{if(r.open===!1)return;const w=i.key;if(w==="Escape"){i.preventDefault(),e.focus(),$();return}h=Array.from(n==null?void 0:n.querySelectorAll(b)),r.open&&document.activeElement===e&&(w==="ArrowDown"||w==="Tab")&&b.length>0&&h.length>0&&(i.preventDefault(),h[0].focus())};switch(t.event){case"click":e.addEventListener("click",S,!0),window.addEventListener("click",F,!0);break;case"hover":e.addEventListener("mouseover",_,!0),e.addEventListener("mouseleave",()=>$(),!0);break;case"focus-blur":e.addEventListener("focus",S,!0),e.addEventListener("blur",()=>$(),!0);break;case"focus-click":e.addEventListener("focus",_,!0),window.addEventListener("click",F,!0);break;default:throw new Error(`Event value of '${t.event}' is not supported. ${f}`)}return window.addEventListener("keydown",C,!0),L(),{update(i){$(()=>{t=i,L(),A()})},destroy(){e.removeEventListener("click",S,!0),e.removeEventListener("mouseover",_,!0),e.removeEventListener("mouseleave",()=>$(),!0),e.removeEventListener("focus",S,!0),e.removeEventListener("focus",_,!0),e.removeEventListener("blur",()=>$(),!0),window.removeEventListener("click",F,!0),window.removeEventListener("keydown",C,!0)}}}const U={};function z(e){return e==="local"?localStorage:sessionStorage}function k(e,t,d){const u=JSON,l="local";function a(m,p){z(l).setItem(m,u.stringify(p))}if(!U[e]){const m=P(t,o=>{const s=z(l).getItem(e);s&&o(u.parse(s));{const v=r=>{r.key===e&&o(r.newValue?u.parse(r.newValue):null)};return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)}}),{subscribe:p,set:y}=m;U[e]={set(o){a(e,o),y(o)},update(o){const s=o(V(m));a(e,s),y(s)},subscribe:p}}return U[e]}k("modeOsPrefers",!1);k("modeUserPrefers",void 0);k("modeCurrent",!1);const W="(prefers-reduced-motion: reduce)";function Z(){return window.matchMedia(W).matches}const ne=B(Z(),e=>{{const t=u=>{e(u.matches)},d=window.matchMedia(W);return d.addEventListener("change",t),()=>{d.removeEventListener("change",t)}}});function oe(e){return e*e*e}function j(e){const t=e-1;return t*t*t+1}function re(e,{delay:t=0,duration:d=400,easing:u=G}={}){const l=+getComputedStyle(e).opacity;return{delay:t,duration:d,easing:u,css:a=>`opacity: ${a*l}`}}function ae(e,{delay:t=0,duration:d=400,easing:u=j,x:l=0,y:a=0,opacity:m=0}={}){const p=getComputedStyle(e),y=+p.opacity,o=p.transform==="none"?"":p.transform,s=y*(1-m),[v,r]=Q(l),[b,h]=Q(a);return{delay:t,duration:d,easing:u,css:(f,n)=>`
			transform: ${o} translate(${(1-f)*v}${r}, ${(1-f)*b}${h});
			opacity: ${y-s*n}`}}function ie(e,{delay:t=0,duration:d=400,easing:u=j,axis:l="y"}={}){const a=getComputedStyle(e),m=+a.opacity,p=l==="y"?"height":"width",y=parseFloat(a[p]),o=l==="y"?["top","bottom"]:["left","right"],s=o.map(c=>`${c[0].toUpperCase()}${c.slice(1)}`),v=parseFloat(a[`padding${s[0]}`]),r=parseFloat(a[`padding${s[1]}`]),b=parseFloat(a[`margin${s[0]}`]),h=parseFloat(a[`margin${s[1]}`]),f=parseFloat(a[`border${s[0]}Width`]),n=parseFloat(a[`border${s[1]}Width`]);return{delay:t,duration:d,easing:u,css:c=>`overflow: hidden;opacity: ${Math.min(c*20,1)*m};${p}: ${c*y}px;padding-${o[0]}: ${c*v}px;padding-${o[1]}: ${c*r}px;margin-${o[0]}: ${c*b}px;margin-${o[1]}: ${c*h}px;border-${o[0]}-width: ${c*f}px;border-${o[1]}-width: ${c*n}px;`}}function se(e,t){const{transition:d,params:u,enabled:l}=t;return l?d(e,u):"duration"in u?d(e,{duration:0}):{duration:0}}export{te as a,re as b,oe as c,se as d,H as e,ae as f,ne as p,ie as s};
